# RTSDemo

## Player

Player类设立的初衷是中介者模式，方便一个Player下所有的单位、Manager互相调用、管理。

同时通过Player类，不同Player下单位的交流、控制也更方便。

Player类是每个Player的管家，GameManage是整个游戏的管家。

## Mono类

Mono和Model类设置一开始是因为看了GitHub上有人做的Moba项目，觉得逻辑与数据分离比较顺眼

## Model类

由于单位中存在一些基本属性，这些属性对于同一种兵种完全一样，因此这些属性可以通过享元模式进行复用，只读取一份副本，所有的Mono均引用该副本。

## 对象池

对象池主要是防止频繁进行创建、销毁。

考虑到Player的单位数量应该与其最大人口有关，每个Player的对象池的大小也就和这个数字存在一定联系，可通过委托管理。

每个Mono实例化均通过Player控制其自身对象池进行。

## AI

用行为树实现了游戏单位的行为，比较简单，只有攻击和采矿两种，这里为了好看就分开了，其实可以写到一个script中

## UI

通过MVVM模式实现了部分UI，也通过委托实现了UI的更新。

由于RTS游戏的UI并不是很复杂，没深入了解怎么管理不同UI的生命周期怎么设置。

## 网络

没有使用Unity的NetworkManage，暂时还没学习这个

服务器使用C++编写，因为没开多线程，因此使用select进行IO多路复用；

客户端之间采用帧同步，RTS常用的一种同步方式，传输的信息较少，只实现了游戏对象的位置同步，其他的实现起来也差不多；根据服务器内安排的房间座位号site对不同客户端进行简单区分



